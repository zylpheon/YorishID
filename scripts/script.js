const CONFIG={navHeight:80,animationDuration:500,counterDuration:2e3},initSmoothScroll=()=>{document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",handleSmoothScroll)})},handleSmoothScroll=function(e){if(e.preventDefault(),isAnimating)return;let t=document.querySelector(this.getAttribute("href"));if(t){let n=t.offsetTop-CONFIG.navHeight,i=mobileMenu.classList.contains("open");i?(closeMobileMenu(),setTimeout(()=>{window.scrollTo({top:n,behavior:"smooth"})},0)):window.scrollTo({top:n,behavior:"smooth"})}};let isAnimating=!1;const mobileMenuBtn=document.getElementById("mobile-menu-btn"),mobileMenu=document.getElementById("mobile-menu"),menuOverlay=document.getElementById("menu-overlay"),initMobileMenu=()=>{mobileMenuBtn?.addEventListener("click",toggleMenu),menuOverlay?.addEventListener("click",closeMenu)},toggleMenu=e=>{e.preventDefault(),isAnimating||(mobileMenu.classList.contains("open")?closeMobileMenu():openMobileMenu())},openMobileMenu=()=>{isAnimating||(isAnimating=!0,mobileMenuBtn.classList.add("disabled"),mobileMenu.classList.add("open"),mobileMenuBtn.classList.add("active"),menuOverlay.classList.add("active"),document.body.style.overflow="hidden",setTimeout(()=>{isAnimating=!1,mobileMenuBtn.classList.remove("disabled")},CONFIG.animationDuration))},closeMenu=()=>{isAnimating||closeMobileMenu()},closeMobileMenu=()=>{isAnimating||(isAnimating=!0,mobileMenuBtn.classList.add("disabled"),mobileMenu.classList.remove("open"),mobileMenuBtn.classList.remove("active"),menuOverlay.classList.remove("active"),document.body.style.overflow="",setTimeout(()=>{isAnimating=!1,mobileMenuBtn.classList.remove("disabled")},CONFIG.animationDuration))},progressBar=document.createElement("div");progressBar.id="scroll-progress",document.body.appendChild(progressBar);const initScrollEffects=()=>{window.addEventListener("scroll",()=>{updateProgressBar(),updateNavbar(),updateActiveLink()},{passive:!0})},updateProgressBar=()=>{let e=window.innerHeight,t=document.documentElement.scrollHeight-e,n=window.scrollY,i=n/t*100;progressBar.style.width=i+"%"};let lastScroll=0;const navbar=document.getElementById("navbar"),updateNavbar=()=>{let e=window.pageYOffset;e>50?navbar.classList.add("scrolled"):navbar.classList.remove("scrolled"),lastScroll=e},sections=document.querySelectorAll("section[id]"),navLinks=document.querySelectorAll(".nav-link"),updateActiveLink=()=>{let e="",t=window.pageYOffset;sections.forEach(n=>{let i=n.offsetTop;n.clientHeight,t>=i-100&&(e=n.getAttribute("id"))}),navLinks.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===`#${e}`&&t.classList.add("active")})},animateCounter=(e,t,n=CONFIG.counterDuration)=>{let i=0,o=t/(n/16),l=setInterval(()=>{(i+=o)>=t?(e.textContent=t.toLocaleString("id-ID"),clearInterval(l)):e.textContent=Math.floor(i).toLocaleString("id-ID")},16)},handleCounterIntersection=e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target.querySelector(".counter");if(t&&!t.dataset.animated){t.dataset.animated="true";let n=parseInt(t.dataset.target);animateCounter(t,n)}}})},initObservers=()=>{let e=new IntersectionObserver(handleCounterIntersection,{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".counter-trigger").forEach(t=>{e.observe(t)})},init=()=>{initSmoothScroll(),initMobileMenu(),initScrollEffects(),initObservers(),lucide.createIcons(),AOS.init({duration:800,once:!0,offset:100}),setTimeout(()=>{let e=document.getElementById("loading");e&&(e.style.display="none")},100)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",init):init();